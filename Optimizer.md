-- 옵티마이저 : 가장 효율적인 방법으로 SQL을 수행할 최적의 처리 경로를 생성해주는 DBMS의 핵심 엔진


|종류|규칙 기반 옵티마이저|비용 기반 옵티마이저|
|:------:|:---:|:---:|
|개념|전에 정의된 규칙 기반|최소비용 계산 실행계획 수립
|기준|실행우선 순위(Ranking)|액세스 비용(Cost)
|인덱스|인덱스 존재 시 가장 우선시 사용|Cost에 의한 결정
|성능|용자 SQL작성 숙련도|옵티마이저 예측 성능
|장점|판단이 매우 규칙적 실행 예상 가능|통계 정보를 통한 현실 요소 적용
|단점|예측 통계정보 요소 무시|최소 성능 보장 계획의 예측 제어 어려움
|사례|AND 중심 양쪽 ‘=’ 시 Index Merge 사용|AND 중심 양쪽 ‘=’ 시 분포도별 Index 선택


규칙 기반 옵티마이저 RBO(Rule-Based Optimizer)
- 실행 속도가 빠른순으로 규칙을 세워두고 우선순위가 높은 방법을 채택

|우선순위|설명|
|:---:|:---:|
|1|ROWID를 사용한 단일 행인 경우|
|2|클러스터 조인에 의한 단일 행인 경우|
|3|유일하거나 기본키(Primary key)를 가진 해시 클러스터 키에 의한 단일 행인 경우|
|4|기본키(Primary key)에 의한 단일 행인 경우|
|5|클러스터 조인인 경우|
|6|해시 클러스터 조인인 경우|
|7|인덱스 클러스터 키인 경우|
|8|복합 칼럼 인덱스인 경우|
|9|단일 칼럼 인덱스인 경우|
|10|인덱스가 구성된 칼럼에서 제한된 범위를 검색하는 경우|
|11|인덱스가 구성된 칼럼에서 무제한 범위를 검색하는 경우|
|12|정렬-병합(Sort-Merge) 조인인 경우|
|13|인덱스가 구성된 칼럼에서 MAX 혹은 MIN을 구하는 경우|
|14|인덱스가 구성된 칼럼에서 ORDER BY를 실행하는 경우|
|15|전체 테이블을 스캔(FULL TABLE SCAN)하는 경우|


비용 기반 옵티마이저 CBO(Cost-Based Optimizer)
- 쿼리를 수행하는데 소요되는 일 량 또는 시간 기반으로 최적화를 수행

CHOOSE : SQL이 실행되는 환경에서 통계 정보를 가져올 수 있으면 비용 기반 옵티마이저로 그렇지 않다면 규칙 기반 옵티마이저로 작동시키는 모드

FIRST_ROWS : 옵티마이저가 처리 결과 중 첫 건을 출력하는데 걸리는 시간을 최소화할 수 있는 실행 계획을 세우는 모드

FIRST_ROWS_n : SQL의 실행 결과를 출력하는데까지 걸리는 응답속도를 최적화하는 모드

ALL_ROWS : SQL 실행 결과 전체를 빠르게 처리하는데 최적화 된 실행계획을 세우는 모드, 
           마지막으로 출력될 행까지 최소한의 자원을 사용하여 최대한 빨리 가져오게 하며 오라클 10g 이후로는 이 모드가 기본값
